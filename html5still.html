<!DOCTYPE html>
<!-- saved from url=(0043)http://bubblepix.com/images/html5still.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
</head>
<body>
<script src="html5still_files/Three.js"></script>
<!--<script src="html5still_files/TrackballControls.js"></script>-->

	<!--<video id="video" autoplay style="display:none">
<source src="IOS_3d8364f72001028bc862bdf761b5e2c2.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
</video>-->
		
<script>

	var videoTexture;
	var camera, controls;

    window.requestAnimFrame = (function(callback){
        return window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(callback){
            window.setTimeout(callback, 1000 / 60); //60fps
        };
    })();
 
    function animate(lastTime, angularSpeed, three){
        // update
        var date = new Date();
        var time = date.getTime();
        var timeDiff = time - lastTime;
        var angleChange = angularSpeed * timeDiff * 2 * Math.PI / 1000;
        three.sphere.rotation.y += angleChange;
        lastTime = time;
 
        // render
        three.renderer.render(three.scene, three.camera);

		// update camera controls
		//controls.update();

			if ( texture ) texture.needsUpdate = true;
				
        // request new frame
        requestAnimFrame(function(){
            animate(lastTime, angularSpeed, three);
        });
        
    }

    window.onload = function(){
        var angularSpeed = 0.05; // revolutions per second
        var lastTime = 0;
        
        // renderer
        var renderer = new THREE.WebGLRenderer();
      	//var	renderer = new THREE.CanvasRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);
 
        // camera
        camera = new THREE.PerspectiveCamera(65, window.innerWidth / window.innerHeight, 1, 220); //fov (60), aspect, near, far
        camera.position.z = 0;
 
 		/*
		 // create a camera contol
		controls	= new THREE.TrackballControls( camera )

		controls.rotateSpeed = 1.0;
		controls.zoomSpeed = 1.2;
		controls.panSpeed = 0.8;

		controls.noZoom = false;
		controls.noPan = false;

		controls.staticMoving = true;
		controls.dynamicDampingFactor = 0.3;

		controls.keys = [ 65, 83, 68 ];

		controls.addEventListener( 'change', renderer );
		*/
		
        // scene
        var scene = new THREE.Scene();
 
        // material
        var stillMaterial = new THREE.MeshLambertMaterial({
            map: THREE.ImageUtils.loadTexture("receipts196.jpg")
        });
       
		
		video = document.getElementById( 'video' );

		image = document.createElement( 'canvas' );
		image.width = 1024;
		image.height = 512;

		imageContext = image.getContext( '2d' );
		imageContext.fillStyle = '#000000';
		imageContext.fillRect( 0, 0, 1024, 1024 );

		texture = new THREE.Texture( image );
		texture.minFilter = THREE.LinearFilter;
		texture.magFilter = THREE.LinearFilter;

		var material = new THREE.MeshBasicMaterial( { map: texture, overdraw: true } );
				
        // sphere
        //( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength )
        var sphere = new THREE.Mesh(new THREE.SphereGeometry(200, 64, 32, 0, Math.PI * 2, Math.PI / 3, Math.PI / 3), stillMaterial); //radius, segments, rings, phiStart, phiLength, thetaStart, thetaLength
        sphere.overdraw = true;
        scene.add(sphere);
        
 	
        // add full ambient lighting
        var ambientLight = new THREE.AmbientLight(0xffffff);
        scene.add(ambientLight);
 
        // add directional light source
        //var directionalLight = new THREE.DirectionalLight(0xffffff);
        //directionalLight.position.set(1, 1, 1).normalize();
        //scene.add(directionalLight);
 
        // create wrapper object that contains three.js objects
        var three = {
            renderer: renderer,
            camera: camera,
            scene: scene,
            sphere: sphere
        };
        
        /*
         * wait for texture image to load before
         * starting the animation
         */ 
        var textureImg = new Image();
        textureImg.onload = function(){
            animate(lastTime, angularSpeed, three, this);
        };
        textureImg.src = "receipts196.jpg";
    };
</script>
</body></html>