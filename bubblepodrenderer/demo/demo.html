<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<title>BubblePod Renderer</title>

		<script src="js/jquery-1.7.2.min.js"></script>
		<script src="js/Stats.js"></script>
		<script src="js/doWork.js"></script>
		<script src="js/requestanimationframe.polyfill.js"></script>
		<script src="js/bubbleHTML5.js"></script>
		<script src="js/screenVectorCache.js"></script>
		<script src="caches/cache_244_1024_full.js"></script>
		<script src="caches/cache_244_2048.js"></script>
		<script src="caches/cache_244_2048_full.js"></script>
		<script src="caches/cache_244_4096.js"></script>
		<script src="caches/cache_244_4096_full.js"></script>

		<link href="style.css" rel="stylesheet">
		<script>
			function go() {
				var textureUrl = "04930473.jpg";
				var textureXml = "xml.xml";
				var isEqui = false;

				var textureSize = 2100;
				var canvasSize = 250;

			/*
				var smallScreenCache = SmallScreen(getCache(textureSize, false), canvasSize, textureSize);
							var fullScreenCache = FullScreen(getCache(textureSize, true), canvasSize * 3, textureSize);*/
			
				initHTML5(isEqui, textureUrl, textureXml, canvasSize, textureSize, null, null);

				var stats = new Stats();
				stats.getDomElement().style.position = 'relative';
				stats.getDomElement().style.marginLeft = '-40px';
				stats.getDomElement().style.left = '50%';

				document.getElementById("fps").appendChild(stats.getDomElement());
				setInterval(function() {
					stats.update();
				}, 1000 / 60);
			}

			function getCache(textureSize, fullScreen) {
				if (textureSize == 4096) {
					if (fullScreen)
						return cache_244_4096_full;
					else
						return cache_244_4096;
				} else if (textureSize == 2048) {
					if (fullScreen)
						return cache_244_2048_full;
					else
						return cache_244_2048;
				} else if ( textureSize = 1024) {
					if (fullScreen)
						return cache_244_1024_full;
					else
						return cache_244_1024;
				} else {
					//not valid
				}
			}

		</script>
	</head>
	<body onload="go()" >
		<div id="outer">
			<h3>BubblePod</h3>
			<div id="bubbleViewer" >
				<div id="ui">
					<div id="logo">
						<img src="images/logo.png">
					</div>
					<div id="fullscreen">
						<img src="images/fullscreen.png">
					</div>
					<div id="fps"></div>
				</div>
				<canvas id="bubble">
					<canvas id="backCanvas" height = "1200" width = "1200" >
						<video controls autoplay  id = "video" >
							<source src="" type="video/mp4" >
							Your browser does not support the video tag.
						</video>
						Sorry, your browser does not support the canvas element

					</canvas>
					Sorry, your browser does not support the canvas element
				</canvas>
			</div>
	</body>
</html>